@model BookShop.Models.User

@{
    ViewBag.Title = "UserIndex";
}

@using BookShop.Controllers;
@using BookShop.Models;

@if (SessionHelper.Get("id") != null)
{
    DataMaintain db = new DataMaintain();
    int curid = int.Parse(SessionHelper.Get("id").ToString());
    User curUser = db.User.FirstOrDefault(m => m.Id == curid);
    if (curUser != null)
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        <div class="table-responsive">
            <br /><br /><h2>我的信息</h2><br /><br />
            <table border="0" cellspacing="0" cellpadding="0" class="table">
                @*<tr class=" label-primary">
                    <th scope="col" width="50%"><span style="color:white"></span></th>
                    <th scope="col"><span style="color:white"></span></th>
                </tr>*@
                <tr>
                    <td width="30%">Email</td>
                    <td>@curUser.Email</td>
                </tr>
                <tr>
                    <td>NickName</td>
                    <td>@curUser.NickName</td>
                </tr>
                <tr>
                    <td>QQ</td>
                    <td>@curUser.QQ</td>
                </tr>
                <tr>
                    <td>Phone</td>
                    <td>@curUser.Phone</td>
                </tr>
                <tr>
                    <td>Address</td>
                    <td>@curUser.Address</td>
                </tr>
            </table>
        </div>
        @*<div class="form-group" style="height:40px;margin-top:50px">
                <div class="row">
                    @Html.LabelFor(m => m.Email, new { @class = "col-md-5 control-label", @style = "text-align:right", @for = "邮箱" })
                    <div class=" col-md-7">
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = curUser.Email, @style = "width:240px;", id = "account" })
                        @Html.ValidationMessageFor(m => m.Email)
                    </div>
                </div>
            </div>
            <div class="form-group" style="height:40px;margin-top:30px">
                <div class="row">
                    @Html.LabelFor(m => m.NickName, new { @class = "col-md-5 control-label", @style = "text-align:right", @for = "昵称" })
                    <div class=" col-md-7">
                        @Html.TextBoxFor(m => m.NickName, new { @class = "form-control", placeholder = curUser.NickName, @style = "width:240px;", id = "nickname" })
                        @Html.ValidationMessageFor(m => m.NickName)
                    </div>
                </div>
            </div>
            <div class="form-group" style="height:40px;margin-top:30px">
                <div class="row">
                    @Html.LabelFor(m => m.Password, new { @class = "col-md-5 control-label", @style = "text-align:right", @for = "密码" })
                    <div class=" col-md-7">
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", placeholder = curUser.Password, @style = "width:240px;", id = "pwd" })
                        @Html.ValidationMessageFor(m => m.Password)
                    </div>
                </div>
            </div>
            <div class="form-group" style="height:40px;margin-top:30px">
                <div class="col-md-5"></div>
                <div class="col-md-2 col-xs-4">
                    <input type="submit" value=" 注册" class="btn btn-default" />
                </div>
                <div class="col-md-2 col-xs-4">
                    <input type="button" onclick="top.location.href='@Url.Action("Login", "Users")'" value="去登陆" class="btn btn-default" />
                </div>
            </div>*@
    }

}


